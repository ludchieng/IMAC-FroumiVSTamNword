<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>Ludwig Chieng · Froumis vs. TamNWords</title>
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>

    <script src="js/Modal.js" type="text/javascript"></script>

    <!-- <p class="time">00 : 00</p> -->
    <div id="loader_container">
      <div id="loader"></div> 
    </div>

    <div class="bg-img"></div>
    <div class="yellow"></div>

    <div id="menu" hidden>
      <div id="config">
        <div>
          <div class="slider-label">Productivité <br/> tournesols</div>
          <input id="sunflowerGainSpeed" type="range" min="0.5" max="5" step="0.5" value="1">
        </div>
        <div>
          <div class="slider-label">Durées <br/> des bonus</div>
          <input id="buffsDuration" type="range" min="0.25" max="2" step="0.25" value="1">
        </div>
        <div>
          <div class="slider-label">Vitesse <br/> apparition zombie</div>
          <input id="zombieSpawnSpeed" type="range" min="0" max="4" step="1" value="1">
        </div>
        <div>
          <div class="slider-label">Taux de <br/> zombies enragés</div>
          <input id="enragedZombiesSuccessRate" type="range" min="0" max="1" step="0.2" value="0.2">
        </div>
        <div>
          <div class="slider-label">Durée de <br/> récupération</div>
          <input id="cooldownDuration" type="range" min="0" max="4" step="0.5" value="1">
        </div>
      </div>
    </div>
    
    <div id="button-container">
      <div id="pause-container">
        <div id="pause" class="inner-shadow">
          <div class="btn-pause"></div>
        </div>
      </div>
      <div class="box-1" id="start">
        <div class="btn btn-one">
          <span>START</span>
        </div>
      </div>
    </div>

    

    <div id="modal-container">
      <div class="modal" id="modal">
        <div class="modal-front" id="front">
          <h1 class="title inner-shadow">?</h1>
          <p class="modal-desc-front inner-shadow">Cliquez pour rotater la carte.</p>
        </div>
        <div class="modal-back">
          <h1 class="title inner-shadow">BONUS</h1>
          <p class="modal-desc">Toutes vos froumis classiques deviennent des froumis rouges. (6sec)</p>
          <div class="box-1">
            <div class="btn btn-one" id="back">
              <span>BACK</span>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div class="footer">
      <p>Game created by <a href="https://fr.wikipedia.org/wiki/Tunnel_h%C3%A9lico%C3%AFdal" target="_blank">Ludwig CHIENG</a> & <a href="https://www.theogautier.fr" target="_blank">Théo GAUTIER</a></p>
    </div>
    
    
    
    
    <script src="js/p5/p5.min.js" type="text/javascript"></script>
    <!-- link p5.js and its addons like p5.dom.js or p5.sound.js -->
    <!-- <script src="js/quicksettings.js" type="text/javascript"></script> -->
    <!-- <script src="js/p5.gui.js" type="text/javascript"></script> -->
    <script src="js/p5/p5.play.js" type="text/javascript"></script>
    <script src="js/p5/p5.sound.min.js"></script>
    <script src="js/custom.js" type="text/javascript"></script>

    <script src="js/Proba.js" type="text/javascript"></script>
    <script src="js/ProbaTest.js" type="text/javascript"></script>
    <script src="js/Trigger.js" type="text/javascript"></script>

    <script src="js/OrphansManager.js" type="text/javascript"></script>
    <script src="js/GameController.js" type="text/javascript"></script>
    <script src="js/Menu.js" type="text/javascript"></script>
    <script src="js/SpriteText.js" type="text/javascript"></script>

    <script src="js/Plant.js" type="text/javascript"></script>
    <script src="js/Sunflower.js" type="text/javascript"></script>
    <script src="js/Shooter.js" type="text/javascript"></script>
    <script src="js/ShooterNormal.js" type="text/javascript"></script>
    <script src="js/ShooterRebou.js" type="text/javascript"></script>
    <script src="js/Tank.js" type="text/javascript"></script>

    <script src="js/Ball.js" type="text/javascript"></script>

    <script src="js/Zombie.js" type="text/javascript"></script>
    <script src="js/ZombieVener.js" type="text/javascript"></script>
    <script src="js/ZombiesCounter.js" type="text/javascript"></script>
    <script src="js/ZombiesArmy.js" type="text/javascript"></script>

    <script src="js/Selector.js" type="text/javascript"></script>
    <script src="js/SelectorItem.js" type="text/javascript"></script>
    <script src="js/Tile.js" type="text/javascript"></script>
    <script src="js/TileMap.js" type="text/javascript"></script>
    <script src="js/Player.js" type="text/javascript"></script>
    <script src="js/Card.js" type="text/javascript"></script>

    <script src="js/sketch.js" type="text/javascript"></script>

    
    <script>
      window.addEventListener('DOMContentLoaded',function () {
        let interval = 0;
        loadWebsite();
        
        function loadWebsite() {
          setTimeout(() => {
            interval = setInterval(() => {
              opacityLoader();
            }, 20);
          }, 1500);
        }
        
        function opacityLoader() {
          let op = Number(window.getComputedStyle(document.getElementById("loader_container")).getPropertyValue("opacity"));
          if(op > 0) {
            op -= 0.1;
            document.getElementById("loader_container").style.opacity=op;
          }
          else {
            clearInterval(interval); 
            document.getElementById("loader").style.display = "none";
            document.getElementById("loader_container").style.display = "none";
          }
        }
      });

    </script>
    <script>
      document.addEventListener("contextmenu", function (e) {
        e.preventDefault();
      });

      const playpause = document.querySelector('#pause');

      playpause.addEventListener('click', () => {
        playpause.classList.toggle('playing');
        switch (gController.state) {
          case gController.STATES.INGAME:  
            gController.changeStateTo(gController.STATES.PAUSE);
            song.pause();
            break;
          case gController.STATES.PAUSE:
            song.play()
            gController.changeStateTo(gController.STATES.INGAME);
            break;
        }
      });


      const start = document.querySelector('#start');

      start.addEventListener('click', () => {
        setTimeout(() => {
          gController.reset();
          gController.changeStateTo(gController.STATES.INGAME);
        }, 60);
        start.style.display = "none";
        song.play();
      });

    
    </script>
  </body>
</html>
